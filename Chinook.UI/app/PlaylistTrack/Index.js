//------------------------------------------------------------------------------
// <autogenerated>
//     This code was generated by a tool.
//     Generated by Merlin Version: 1.0.0.0
//
//     Changes to this file may cause incorrect behavior and will be lost if 
//     the code is regenerated.
// </autogenerated>
//------------------------------------------------------------------------------
(function () {
    'use strict';

    var controllerId = 'playlistTrackIndexCtrl';
    angular.module('app').controller(controllerId, ['common', 'playlistTrackDataService', playlistTrackList]);

    function playlistTrackList(common, playlistTrackDataService) {
        var getLogFn = common.logger.getLogFn;
        var log = getLogFn(controllerId);

        var vm = this;
        vm.news = {
            title: 'PlaylistTrack List',
            description: 'PlaylistTrack List'
        };
       
        vm.pagableResults = [];
        vm.title = 'PlaylistTrackList';
        vm.sortExpression = 'PlaylistId';
        vm.currentPage = 1;
        vm.pageSize = 10;
        vm.deletePlaylistTrack = deletePlaylistTrack;

        activate();

        vm.pageChanged = function () {
            return getDataPageable(vm.sortExpression, vm.currentPage, vm.pageSize);
        };

        function activate() {
            var promises = [getDataPageable(vm.sortExpression, vm.currentPage, vm.pageSize)];
            common.activateController(promises, controllerId)
                .then(function () { log('Activated PlaylistTrack List View'); });
        }
        
        function getDataPageable(sortExpression, page, pageSize) {
            return playlistTrackDataService.getDataPageable(sortExpression, page, pageSize).then(function (results) {
                return  vm.pagableResults = results.data;
              });
        }

        function deletePlaylistTrack(playlistTrackId) {
            alert("test worked");
          //  return playlistTrackDataService.deletePlaylistTrack(playlistTrackId);
        };
    }
})();

